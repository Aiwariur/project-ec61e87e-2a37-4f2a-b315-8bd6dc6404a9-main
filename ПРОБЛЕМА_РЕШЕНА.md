# ‚úÖ –ü–†–û–ë–õ–ï–ú–ê –†–ï–®–ï–ù–ê

## –ß—Ç–æ –±—ã–ª–æ:
```
‚ùå –û—à–∏–±–∫–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞
SqliteError: no such column: telegram_username
```

## –ü—Ä–∏—á–∏–Ω–∞:
–ù–∞ production —Å–µ—Ä–≤–µ—Ä–µ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –ù–ï –ë–´–õ–û –∫–æ–ª–æ–Ω–æ–∫ `telegram_username` –∏ `telegram_user_id`, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ –ª–æ–∫–∞–ª—å–Ω–æ–π –≤–µ—Ä—Å–∏–∏.

## –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:

### 1. –ü–æ–¥–∫–ª—é—á–∏–ª—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É
```bash
ssh root@144.31.212.184
```

### 2. –ó–∞–ø—É—Å—Ç–∏–ª –º–∏–≥—Ä–∞—Ü–∏—é –ë–î
```bash
cd /var/www/popugai-market
node migrate-telegram-fields.cjs
```

–†–µ–∑—É–ª—å—Ç–∞—Ç:
```
‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–æ–ª–æ–Ω–∫–∞ telegram_username
‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–æ–ª–æ–Ω–∫–∞ telegram_user_id
üìä –í—Å–µ–≥–æ –∑–∞–∫–∞–∑–æ–≤: 13
```

### 3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏–ª —Å–µ—Ä–≤–µ—Ä
```bash
pm2 restart popugai-market
```

## –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å:
‚úÖ –°–µ—Ä–≤–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ http://144.31.212.184  
‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∞  
‚úÖ Telegram –±–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ  
‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∑–∞–∫–∞–∑–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç  
‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ username –∏ user_id —Ä–∞–±–æ—Ç–∞–µ—Ç  

## –ü—Ä–æ–≤–µ—Ä–∫–∞:
1. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –∑–∞–∫–∞–∑ –Ω–∞ —Å–∞–π—Ç–µ
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ —Å—Å—ã–ª–∫–µ –≤ Telegram
3. –ù–∞–∂–º–∏—Ç–µ "‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –∑–∞–∫–∞–∑"
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∞–¥–º–∏–Ω–∫—É - –¥–æ–ª–∂–µ–Ω –ø–æ—è–≤–∏—Ç—å—Å—è @username

## –î–ª—è –±—É–¥—É—â–∏—Ö –¥–µ–ø–ª–æ–µ–≤:

–í—Å–µ–≥–¥–∞ –∑–∞–ø—É—Å–∫–∞–π—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è:
```bash
ssh root@144.31.212.184 "cd /var/www/popugai-market && node migrate-telegram-fields.cjs && pm2 restart popugai-market"
```

–ò–ª–∏ –¥–æ–±–∞–≤—å—Ç–µ –≤ —Å–∫—Ä–∏–ø—Ç –¥–µ–ø–ª–æ—è –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º PM2:
```bash
# –ó–∞–ø—É—Å–∫ –º–∏–≥—Ä–∞—Ü–∏–π
for file in migrate-*.cjs; do
  [ -f "$file" ] && node "$file"
done
```

---

**–î–∞—Ç–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è**: 2 —Ñ–µ–≤—Ä–∞–ª—è 2026, 22:00  
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –†–ê–ë–û–¢–ê–ï–¢
